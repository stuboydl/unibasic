{
   "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
   "name": "unibasic",
   "patterns": [
      {
         "include": "#comments"
      },
      {
         "include": "#strings"
      },
      {
         "include": "#keywords"
      }
   ],
   "repository": {
      "comments":{
         "patterns": [
            {
               "comment": "normal comments",
               "name": "comment.line.asterisk.unibasic",
               "match": "^\\s*(\\!.*|\\*.*|(?i)rem\\s.*)",
               "QuoteComment-deprecate??": "(^['|\"]*|\\s)"
            },
            {
               "comment": "inline comment",
               "name": "comment.line.asterisk.unibasic",
               "match": ";\\s*(\\!.*|\\*.*|(?i)rem\\s.*)"
            },
            {
               "comment": "get back to it later",
               "name": "meta.comment.fixme.unibasic",
               "match": "\\b(?i:fixme|todo):\\b"
            }
         ]
      },
      "keywords": {
         "patterns": [
            {
               "comment": "operators",
               "name": "keyword.operator.unibasic",
               "match": "\\B(=|<|>|<=|>=|!=|\\*|\\^|/|\\-|\\:|\\+|#)\\B"
            },
            {
               "comment": "comparitors",
               "name": "keyword.operator.unibasic",
               "match": "\\b(?i:and|or|not|eq|lt|gt|ne|le|ge|match|matches)\\b"
            },
            {
               "comment": "invoke general internal/external subroutine",
               "match": "\\b(?<!\\.)(?i)(call|function|gosub|prog|program|sub|subroutine)\\s+([-$!@\\*]{0,1}[a-z0-9]{1}[a-z0-9_\\-\\.\\*]+)\\b",
               "captures": {
                  "1": {
                     "name": "storage.type.unibasic"
                  },
                  "2": {
                     "name": "entity.name.function.unibasic"
                  }
               }
            },
            {
               "comment": "internal subroutine label",
               "match": "^(?i)([a-z_\\.0-9]*:|[0-9]+)[\\s|;]*($|\\!.*|\\*.*)",
               "captures": {
                  "1": {
                     "name": "entity.name.type.unibasic"
                  },
                  "2": {
                     "name": "comment.line.asterisk.unibasic"
                  }
               }
            },
            {
               "comment": "invoke external helper subroutine",
               "match": "(?i)(call)\\s+(!async|!errno|!fcmp|!get.partnum|!get.pathname|!get.pu|!get.user.counts|!inline.prompts|!ints|!make.pathname|!matches|!message|!report.error|!set.ptr|!set.pu|!timdat|!user.type|!voc.pathname)\\b",
               "captures": {
                  "1": {
                     "name": "storage.type.unibasic"
                  },
                  "2": {
                     "name": "support.function.unibasic"
                  }
               }
            },
            {
               "comment": "nummers",
               "name": "constant.numeric.unibasic",
               "match": "\\b([0-9]+)\\b"
            },
            {
               "comment": "lead words and other commands",
               "name": "storage.type.unibasic",
               "match": "\\b(?<!\\.)(?i:begin|by|calling|case|commit|continue|debug|dim|dimension|do|end|error|exec|execute|exit|filelock|fileunlock|for|from|if|in|isolation|level|lit|literally|locked|loop|next|off|on|perform|recordlockl|recordlocku|release|repeat|return|rollback|step|stop|stope|stopm|system|then|to|transaction|until|using|while)(?!\\.)\\b"
            },
            {
               "comment": "other commands",
               "name": "keyword.control.unibasic",
               "match": "^\\s*(?i:assign|chain|com|common|declare gci|deffun|equ|equate|[\\#|\\$]?include)(?!\\.)\\b"
            },
            {
               "comment": "$ directives",
               "name": "keyword.control.unibasic",
               "match": "^\\s*(\\$(?i:chain|copyright|define|eject|else|endif|ifdef|ifndef|indef|insert|map|options|page|undefine))(?!\\.)\\b"
            },
            {
               "comment": "@ commands",
               "name": "constant.character.escape.unibasic",
               "match": "(@(?i:abort\\.code|account|am|ans|authorization|command|command\\.stack|conv|crthigh|crtwide|data\\.pending|date|day|dict|false|file\\.name|filename|fm|format|hdbc|header|henv|hstmt|id|im|isolation|level|logname|lptrhigh|lptrwide|month|mv|nb|nd|new|ni|ns|null|null\\.str|nv|old|option|parasentence|path|pyexceptionmsg|pyexceptiontraceback|pyexceptiontype|reccount|record|recur0|recur1|recur2|recur3|recur4|schema|selected|sentence|sm|sql\\.code|sql\\.date|sql\\.error|sql\\.state|sql\\.time|sql\\.warning|sqlproc\\.name|sqlproc\\.tx\\.level|stdfil|svm|sys\\.bell|system\\.return\\.code|system\\.set|term\\.type|time|tm|transaction|transaction\\.id|transaction\\.level|true|tty|user0|user1|user2|user3|user4|userno|user\\.no|user\\.return\\.code|vm|who|year|year4))(?!\\.)\\b"
            },
            {
               "comment": "options",
               "name": "keyword.control.unibasic",
               "match": "\\b(?<!\\.)(?i:all|default|in2|information|pick|piopen|reality|case|comp\\.precision|count\\.ovlp|end\\.warn|exec\\.eq\\.perf|extra\\.delim|for\\.incr\\.bef|format\\.oconv|fselect|header\\.brk|header\\.date|header\\.eject|in2\\.substr|info\\.abort|info\\.convert|info\\.enter|info\\.include|info\\.locate|info\\.marks|info\\.mod|input\\.else|inputat|int\\.precision|locate\\.r83|no\\.case|no\\.reselect|no\\.return\\.warn|ongo\\.range|pclose\\.all|perf\\.eq\\.exec|piopen\\.execute|piopen\\.include|piopen\\.matread|piopen\\.selidx|radians|raw\\.output|read\\.retain|real\\.substr|rnext\\.expl|seq\\.255|static\\.dim|stop\\.msg|supp\\.data\\.echo|time\\.millisecond|ult\\.format|use\\.errmsg|var\\.select|vec\\.math|wide\\.if)(?!\\.)\\b"
            },
            {
               "comment": "vector functions",
               "name": "keyword.other.unibasic",
               "match": "\\b(?i:adds|ands|cats|chars|counts|divs|eqs|fields|fmts|ges|gts|iconvs|ifs|indexs|isnulls|lens|lensdp|les|lts|mods|muls|negs|nes|nots|nums|oconvs|ors|reuse|seqs|spaces|splice|strs|subs|substrings|summation|trims|unichars|uniseqs)(?!\\.)\\b"
            },
            {
               "comment": "ab",
               "name": "storage.type.unibasic",
               "match": "\\b(?<!\\.)(?i:abort|abs|abss|acos|alpha|ascii|asin|assigned|atan|auxmap|before|bitand|bitnot|bitor|bitreset|bitset|bittest|bitxor|break|bscan|byte|bytelen|bytetype|byteval)(?!\\.)\\b"
            },
            {
               "comment": "c",
               "name": "storage.type.unibasic",
               "match": "\\b(?<!\\.)(?i:capturing|cat|century\\.pivot|change|changetimestamp|char|chdir|checksum|clear|clearcommon|cleardata|clearfile|clearinput|clearprompts|clearselect|close|closeseq|col1|col2|collectdata|compare|convert|convertcos|cos|cosh|count|create|crt)(?!\\.)\\b"
            },
            {
               "comment": "de",
               "name": "storage.type.unibasic",
               "match": "\\b(?<!\\.)(?i:data|date|dcount|decrypt|defc|defce|del|delete|deletelist|deleteu|descrinfo|digest|disabledec|display|div|downcase|dquote|dround|dtx|ebcdic|echo|else|enabledec|encode|encrypt|enter|eof\\(arg\\.\\)|ereplace|errmsg|exchange|exp|extract)(?!\\.)\\b"
            },
            {
               "comment": "fgh",
               "name": "storage.type.unibasic",
               "match": "\\b(?<!\\.)(?i:fadd|fdiv|ffix|fflt|field|fieldstore|fileinfo|find|findstr|fix|flush|fmt|fmtdp|fmtsdp|fmul|fold|folddp|footing|format|formlist|fsub|get|get\\(arg\\.\\)|getcwdgetenv|getlist|getlocale|getrem|getusergroup|getx|group|groupstore|heading|headinge|headingn|hush)(?!\\.)\\b"
            },
            {
               "comment": "ijkl",
               "name": "storage.type.unibasic",
               "match": "\\b(?<!\\.)(?i:icheck|iconv|ilprompt|index|indices|inmat|input|inputclear|inputdisp|inputdp|inputerr|inputif|inputnull|inputtrap|ins|insert|int|isnull|itype|keyedit|keyexit|keyin|keytrap|latin1|left|len|lendp|let|ln|localdatelocaltime|locate|lock|lowcase|lower)(?!\\.)\\b"
            },
            {
               "comment": "mno",
               "name": "storage.type.unibasic",
               "match": "\\b(?<!\\.)(?i:maketimestamp|mat|matbuild|matchfield|matparse|matread|matreadl|matreadu|matwrite|matwriteu|maximum|minimum|mod|msleep|nap|neg|nobuf|null|num|oconv|open|opencheck|opendev|openpath|openseq|openser|osbread|osbwrite|osclose|osdelete|osopen|osread|oswrite|out)(?!\\.)\\b"
            },
            {
               "comment": "pqr",
               "name": "storage.type.unibasic",
               "match": "\\b(?<!\\.)(?i:page|passlist|pause|pcperform|precision|print|printer|printerr|procread|procwrite|prompt|putenv|pwr|quote|raise|randomize|read|readblk|readl|readlist|readnext|readselect|readseq|readt|readu|readv|readvl|readvu|readxml|real|recordlocked|rem|remove|replace|returning|revremove|rewind|right|rnd|rqm|rtndata|rtnlist|rpc\\.call|rpc\\.connect|rpc\\.disconnect)(?!\\.)\\b"
            },
            {
               "comment": "st",
               "name": "storage.type.unibasic",
               "match": "\\b(?<!\\.)(?i:sadd|scmp|sdiv|seek|seek\\(arg\\.\\)|select|selecte|selectindex|selectinfo|selectn|selectv|send|sentence|seq|setting|set|setrem|sin|sinh|sleep|smul|sort|soundex|space|sqrt|squote|sselect|sselectn|sselectv|ssub|start|status|str|subr|sum|swap|tabstop|tan|tanh|terminfo|time|timedate|timeout|tparm|tprint|trans|trim|trimb|trimbs|trimf|trimfs|ttyctl|ttyget|ttyset)(?!\\.)\\b"
            },
            {
               "comment": "uvwxyz",
               "name": "storage.type.unibasic",
               "match": "\\b(?<!\\.)(?i:udtexecute|unassigned|unichar|uniseq|unlock|upcase|uprint|userinfo|weof|weofseq|write|writeblk|writelist|writeseq|writeseqf|writet|writeu|writev|writevu|writexml|xlate|xtd)(?!\\.)\\b"
            },
            {
               "comment": "bci",
               "name": "storage.type.unibasic",
               "match": "\\b(?<!\\.)(?i:ClearDiagnostics|GetDiagnostics|SetDiagnostics|SQLAllocConnect|SQLAllocEnv|SQLAllocStmt|SQLBindCol|SQLBindCol|SQLBindParameter|SQLCancel|SQLColAttributes|SQLColumns|SQLConnect|SQLDescribeCol|SQLDisconnect|SQLError|SQLExecDirect|SQLExecute|SQLFetch|SQLFreeConnect|SQLFreeEnv|SQLFreeStmt|SQLGetInfo|SQLGetTypeInfo|SQLNumParams|SQLNumResultCols|SQLParamOptions|SQLPrepare|SQLRowCount|SQLSetConnectOption|SQLSetParam|SQLSpecialColumns|SQLStatistics|SQLTables|SQLTransact)(?!\\.)\\b"
            },
            {
               "comment": "dom",
               "name": "storage.type.unibasic",
               "match": "\\b(?<!\\.)(?i:XDOMOpen|XDOMCreateNode|XDOMWrite|XDOMClose|XDOMValidate|XDOMLocate|XDOMLocateNode|XDOMCreateNode|XDOMEvaluate|XDOMRemove|XDOMAppend|XDOMInsert|XDOMReplace|XDOMAddChild|XDOMClone|XDOMTransform|XDOMGetNodeValue|XDOMGetNodeName|XDOMGetNodeType|XDOMGetAttribute|XDOMGetOwnerDocument|XDOMGetUserData|XDOMSetNodeValue|XDOMSetUserData)(?!\\.)\\b"
            },
            {
               "comment": "python",
               "name": "storage.type.unibasic",
               "match": "\\b(?<!\\.)(?i:PyCall|PyCallFunction|PyCallMethod|PyGetAttr|PyImport|PySetAttr)(?!\\.)\\b"
            },
            {
               "comment": "soap",
               "name": "storage.type.unibasic",
               "match": "\\b(?<!\\.)(?i:SOAPSetDefault|SOAPGetDefault|SOAPCreateRequest|SOAPSetParameters|SOAPSetRequestHeader|SOAPSetRequestBody|SOAPSetRequestContent|SOAPRequestWrite|SOAPSubmitRequest|SOAPGetResponseHeader|SOAPGetFault|protocolLogging)(?!\\.)\\b"
            },
            {
               "comment": "sockets",
               "name": "storage.type.unibasic",
               "match": "\\b(?<!\\.)(?i:AcceptConnection|AddAuthenticationRule|AddCertificate|AddRequestParameter|AnalyzeCertificate|CloseSocket|CreateCertification|CreateCertRequest|CreateRequest|CreateSecureRequest|CreateSecurityContext|GenerateKey|GetCipherSuite|GetHTTPDefault|GetSocketErrorMessage|GetSocketInformation|GetSocketOptions|InitSecureServerSocket|InitServerSocket|LoadSecurityContext|OpenSecureSocket|OpenSocket|ProtocolLogging|ReadSocket|SaveSecurityContext|SetAuthenticationDepth|SetCipherSuite|SetClientauthentication|SetHTTPDefault|SetLocale|SetPrivateKey|SetRandomSeed|SetRequestHeader|SetSocketOptions|ShowSecurityContext|Signature|SubmitRequest|WriteSocket)(?!\\.)\\b"
            },
            {
               "comment": "udo",
               "name": "storage.type.unibasic",
               "match": "\\b(?<!\\.)(?i:UDOArrayAppendItem|UDOArrayDeleteItem|UDOArrayGetItem|UDOArrayGetNextItem|UDOArrayGetSize|UDOArrayInsertItem|UDOArraySetItem|UDOClone|UDOCreate|UDODeleteProperty|UDOFree|UDOGetLastError|UDOGetNextProperty|UDOGetOption|UDOGetProperty|UDOGetPropertyNames|UDOGetType|UDOIsTypeOf|UDORead|UDOSetOption|UDOSetProperty|UDOWrite)(?!\\.)\\b"
            },
            {
               "comment": "xml/ami",
               "name": "storage.type.unibasic",
               "match": "\\b(?<!\\.)(?i:closeXMLData|openXMLData|prepareXML|readXMLData|releaseXML|xmlError|XMLGetError|XMLExecute|XMLtoDB|amInitialize|amReceiveMsg|amReceiveRequest|amSendMsg|amSendRequest|amSendResponse|amTerminate|XMAPOpen|XMAPClose|XMAPCreate|XMAPReadNext|XMAPAppendRec|XMAPToXMLDoc)(?!\\.)\\b"
            },
            {
               "comment": "sbxa",
               "name":"variable.other.readwrite.sbxa",
               "match":"\\b(?<!\\.)(?i:record|key|work|other.rec|lf.info|cnt|action|line|mainfile|f.file|orig.rec|lock.key|head|scr.image|status.line|box.cords|outval|outval.flags|f.indx|f.indx.defns|gui|guires|userdata|screenno|xui|service.info|express.vars|debug.logging|user.debug|free.temp|value|rtn.flag|param|refresh|menu.opt|proc.name|level.no|files.opened|filevar|parms|sbparm|other|sbc.parm|sb.cont|control|port|sysid|acnt.name|term.defn|print.defn|pass.defn|user.id|user.keys|pcterm|f.md|f.dmcont|f.dmdriv|f.pass|f.cont|f.proc|f.menu|f.dmproc|f.defn|f.g.proc|f.g.menu|f.g.defn|f.dmsysdefn|bt.node|bt.lev.no|bt.id|bt.pos|guidata|sbclient|res1|res2|res3|res4|xuidata)(?!\\.)\\b"
            },
            {
               "comment": "deprecated",
               "name":"invalid.illegal.unibasic",
               "match":"\\b(?<!\\.)(?i)(go|go\\s{0,1}to)(?!\\.)\\b"
            }
         ]
      },
      "strings": {
         "patterns": [
            {
               "begin": "\"",
               "end": "\"",
               "name": "string.quoted.double"
            },
            {
               "begin": "'",
               "end": "'",
               "name": "string.quoted.single"
           },
           {
            "begin": "\\\\",
            "end": "\\\\",
            "name": "string.quoted.other"
         }
      ]
      }
   },
   "scopeName": "source.unibasic"
}

